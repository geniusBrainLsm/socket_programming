# socket_programming
네트워크보안 시험정리

# 소켓프로그래밍이란?
네트워크 상에서 컴퓨터 간에 데이터를 주고받기 위해 사용되는 프로그래밍 기법
가장 일반적인 프로토콜은 TCP와 UDP

## 네트워크 주소에 대한 구조체(2)
sockaddin이라는 구조체에 대해 맴버들을 살펴보기. 맴버들에 대해서 각각에 대한 기능들
어떤 프로토콜을 쓸려면 어떤 값을 넣어야하는지? 에 대해서

```
  struct sockaddr_in {
      short            sin_family;   // 주소 체계(Address Family)
      unsigned short   sin_port;     // 16비트 TCP/UDP 포트 번호
      struct in_addr   sin_addr;     // 32비트 IPv4 인터넷 주소
      char             sin_zero[8];  // 사용되지 않으며, 0으로 채워져야 함
  };
```

인데, 
```
  int main(void) {
    struct sockaddr_in server_addr;

    memset(&server_addr, 0, sizeof(server_addr)); // 구조체 초기화
    server_addr.sin_family = AF_INET; // 주소 체계 설정
    server_addr.sin_port = htons(80); // 포트 번호 설정
    server_addr.sin_addr.s_addr = inet_addr("232.212.123.123"); // IP 주소 설정

    // 이후 socket, bind, listen, accept 등의 함수를 사용하여
    // 소켓을 열고 클라이언트의 연결을 기다릴 수 있습니다.
    
    return 0;
}
```
이런식으로 쓰는거임. 
>sin_family: 주소 체계를 나타냅니다. 대부분 AF_INET을 사용합니다.
>
>sin_port: 16비트 포트번호를 나타냅니다. htons()함수를 사용하여 네트워크 바이트 순서로 변환해야 합니다.
>
>sin_addr: 32비트의 IPv4 주소를 나타냅니다. inet_addr() 함수를 사용하여 변환할 수 있습니다.
>
>sin_zero: 아무런 기능을 하지 않는 8바이트 필드로, 0으로 채워져야 합니다. 이 필드는 sockaddr와 sockaddr_in 구조체의 크기를 동일하게 맞추기 위해 사용됩니다.
>
>sockaddr_in 구조체는 주로 소켓 함수의 인자로 사용됩니다. 예를 들어, bind(), connect(), sendto(), recvfrom() 등의 함수에서 사용됩니다. 이를 통해 소켓에 IP 주소와 포트 번호를 할당하거나, 원격 호스트와의 연결을 설정할 수 있습니다.

## 주소 변환에 관련된 함수들
>inet_addr(): 이 함수는 점으로 구분된 IPv4 주소 문자열을 네트워크 바이트 순서로 변환합니다. 만약 문자열이 유효하지 않은 IP 주소를 나타내면 -1을 반환합니다.

>inet_ntoa(): 이 함수는 네트워크 바이트 순서의 IPv4 주소를 점으로 구분된 문자열로 변환합니다. 변환된 문자열은 정적 메모리 영역에 저장되므로, 반환값을 복사하지 않고 다른 inet_ntoa() 호출에 의해 덮어쓰일 수 있습니다.
>inet_aton(): 이 함수는 inet_addr()와 유사하지만, 변환에 실패하면 0을 반환하고 성공하면 1을 반환합니다. 또한, 반환된 네트워크 바이트 순서의 주소는 인자로 주어진 struct in_addr에 저장됩
니다.

>inet_ntop(): 이 함수는 네트워크 바이트 순서의 주소를 점으로 구분된 문자열로 변환합니다. 이 함수는 IPv6 주소를 지원하며, 변환된 문자열은 인자로 주어진 버퍼에 저장됩니다.

>inet_network 함수는 주어진 문자열 형태의 IP 주소를 이진 형태의 네트워크 주소로 변환하는 함수입니다. 이 함수는 inet_addr 함수와 유사한 역할을 수행하지만, inet_addr 함수는 변환에 실패할 경우 -1을 반환하는 반면, inet_network 함수는 실패할 경우 -1이 아닌 오류 메시지를 반환합니다.

## 소켓 프로그래밍을 할려면 소켓을 만드는데, 그 안에 어떤 프로토콜을 쓸거다 라고 지정하기 위해서 명시하는 그런 내용에 대해서
(어떤프로토콜을 사용하기 위해 소켓을 쓸려고한다, 적절하게 소켓함수를 작성하시오)

int udp_socket = socket(AF_INET, SOCK_DGRAM, 0);

int tcp_socket = socket(AF_INET, SOCK_STREAM, 0);

## 바인딩 관련사항. 서버, 클라이언트카 각각 언제 바인드가 되는지하는지, TCP UPD에 따라서 바인딩 시점이 다르다. 시점?

#강의자료에 별표로 표시한것.. TCP부분에 있다. 클라이언트에서는 어떤함수의 순차로, 서버에서는 어떤함수의 순차로 호출되는지 호출순서

## 실행을 편하게 하는 디버거 netcat (nc)명령어 어떤 조건을 명시하면, 그에 맞는 nc 명령어를 옵션을 조합해서 
1213

#TCP로 데이터를 송수신할떄 쓰는 함수, 그함수 필드로써 어떤 값이 명시가 되는지에 따라 기능을 달리할수있는데 그 플래그값

#4개의 문제가 잇는데, 그 4개는 멀티플랙싱 관련된 문제로 이루어짐. 멀티플랙스 함수 여러개가 있는데 그거 알아둘것

여기까지가 아마 17번 18번은 교수님 성함ㅋㅋ

나머지는 코드 중 빈칸채우기.
#멀티플랙스 기법을 쓴 코드에 빈칸을 채우기. 멀티플랙스 기반의 소스를 공부. 참고로 이 코드는 UPD기반임..
UDP기반 멀티플랙싱 코드다 하면 어떤 내용을 채워야 할지
